function initRenderer(){renderer=new THREE.WebGLRenderer({antialias:!0}),canvas=renderer.domElement,renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(canvas),window.addEventListener("resize",doResize,!1),clock=new THREE.Clock,renderer.setClearColor("rgb(0,0,0)"),renderer.shadowMapEnabled=!1,(scene=new THREE.Scene).background=new THREE.Color("rgb(0,0,0)"),cont=new THREE.Group,scene.add(cont)}function doResize(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function initCamera(){(camera=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,.1,4e3)).position.set(stageX/2,300,stageZ),camera.lookAt(scene.position),scene.add(camera)}function spawnWorld(){spawnFloor();for(var e=0;e<emitTotal;e++){var t={};t.x=Math.random()*stageX,t.z=Math.random()*stageZ,t.y=emitY;var n=(new THREE.TextureLoader).load("materials/sprite/sprite.png"),a=new THREE.SpriteMaterial({map:n,color:16777215}),o=new THREE.Sprite(a);cont.add(o),o.position.set(t.x,t.y,t.z),o.scale.set(emitScale,emitScale,emitScale),t.sprite=o,t.hue=Math.random(),t.color=new THREE.Color,t.color.setHSL(t.hue,emitS,emitL),t.light=newPointLight(t.x,t.y,t.z,t.color,lIntensity),t.sprite.material.color=t.color,t.angle=Math.round(360*Math.random()),t.xMove=Math.cos(t.angle*(Math.PI/180))*emitSpeed,t.zMove=Math.sin(t.angle*(Math.PI/180))*emitSpeed,t.yMove=0,t.dirChange=emitDirDeltaMin+Math.random()*(emitDirDeltaMax-emitDirDeltaMin),t.dirCounter=0,t.angleConst=-emitAngleConstMax/2+Math.random()*emitAngleConstMax,t.parSpawnCounter=parDelta,arEmit.push(t)}for(var r=0;r<parMax;r++){var i={};n=(new THREE.TextureLoader).load("materials/sprite/sprite.png"),a=new THREE.SpriteMaterial({map:n,color:16777215}),o=new THREE.Sprite(a);cont.add(o),o.position.set(0,0,0),o.scale.set(parScale,parScale,parScale),i.sprite=o,i.sprite.material.opacity=0,arParInactive.push(i)}}function spawnFloor(){var e=new THREE.BoxGeometry(stageX,10,stageZ),t=floorMat.clone(),n=new THREE.Mesh(e,t);n.castShadow=!1,n.receiveShadow=!0,scene.add(n),n.position.set(stageX/2,-5,stageZ/2);var a=new THREE.CubeCamera(cubeCamNear,cubeCamFar,cubeCamRes);a.renderTarget.texture.minFilter=THREE.LinearMipMapLinearFilter,scene.add(a),n.material.envMap=a.renderTarget.texture,n.material.envMap.anisotropy=maxAnisotropy,n.material.envMapIntensity=1,arCubeCameras.push([n,a]),a.position.copy(n.position)}function spawnSphere(){var e=new THREE.SphereGeometry(50,60,60),t=sphereMat.clone(),n=new THREE.Mesh(e,t);n.castShadow=!1,n.receiveShadow=!1,scene.add(n),n.position.set(100,50,100);var a=new THREE.CubeCamera(cubeCamNear,cubeCamFar,cubeCamRes);return a.renderTarget.texture.minFilter=THREE.LinearMipMapLinearFilter,scene.add(a),n.material.envMap=a.renderTarget.texture,n.material.envMap.anisotropy=maxAnisotropy,n.material.envMapIntensity=1,arCubeCameras.push([n,a]),a.position.copy(n.position),n}function spawnTestMesh(){var e=new THREE.SphereGeometry(20,60,60),t=darkMarbleMat.clone(),n=new THREE.Mesh(e,t);n.castShadow=!0,n.receiveShadow=!0,scene.add(n),n.position.set(50,20,50);var a=new THREE.CubeCamera(cubeCamNear,cubeCamFar,cubeCamRes);a.renderTarget.texture.minFilter=THREE.LinearMipMapLinearFilter,scene.add(a),n.material.envMap=a.renderTarget.texture,n.material.envMap.anisotropy=maxAnisotropy,n.material.envMapIntensity=1,arCubeCameras.push([n,a]),a.position.copy(n.position)}function callbackPortal(e,t){fix(e),e.normalsNeedUpdate=!0,e.verticesNeedUpdate=!0;var n=floorMat.clone(),a=new THREE.Mesh(e,n);a.castShadow=!0,a.receiveShadow=!0,cont.add(a);var o=new THREE.CubeCamera(cubeCamNear,cubeCamFar,cubeCamRes);o.renderTarget.texture.minFilter=THREE.LinearMipMapLinearFilter,cont.add(o),a.material.envMap=o.renderTarget.texture,a.material.envMap.anisotropy=maxAnisotropy,a.material.envMapIntensity=1,arCubeCameras.push([a,o]);a.scale.set(20,20,20),o.position.copy(a.position),e.computeBoundingBox(),o.position.y=e.boundingBox.max.y/2*20,portal=a}function initLights(){}function newPointLight(e,t,n,a,o){var r=new THREE.PointLight(a,o,0,2);return r.castShadow=!1,r.position.set(e,t,n),scene.add(r),r}function initHelpers(){(controls=new THREE.OrbitControls(camera,renderer.domElement)).target=new THREE.Vector3(stageX/2,emitY,stageZ/2)}function showAxes(){var e=new THREE.Geometry,t=new THREE.Vector3(0,0,0);e.vertices.push(t);var n=new THREE.PointsMaterial({color:"cyan",size:10,sizeAttenuation:!1}),a=new THREE.Points(e,n);scene.add(a),drawLine(new THREE.Vector3(0,0,0),new THREE.Vector3(100,0,0),"rgb(255,0,0)"),drawLine(new THREE.Vector3(0,0,0),new THREE.Vector3(0,100,0),"rgb(0,255,0)"),drawLine(new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,100),"rgb(0,0,255)")}function drawLine(e,t,n){var a=new THREE.Geometry;a.vertices.push(e),a.vertices.push(t);var o=new THREE.LineBasicMaterial({color:n,linewidth:2}),r=(new THREE.LineBasicMaterial({color:n,linewidth:2}),new THREE.LineBasicMaterial({color:n,linewidth:2}),new THREE.Line(a,o,THREE.LineStrip));scene.add(r)}function init(){initRenderer(),initCamera(),initLights(),initLoadingManager(),initMaterials(),spawnWorld(),initHelpers(),requestAnimationFrame(main)}function main(){if(assetsLoaded){for(var e=0;e<arEmit.length;e++){var t=arEmit[e];if((t.x+t.xMove>=stageX||t.x+t.xMove<0)&&(t.angle=180-t.angle),(t.z+t.zMove>=stageZ||t.z+t.zMove<=0)&&(t.angle-=2*t.angle),t.xMove=Math.cos(t.angle*(Math.PI/180))*emitSpeed,t.zMove=Math.sin(t.angle*(Math.PI/180))*emitSpeed,t.yMove=0,t.x=t.x+t.xMove,t.z=t.z+t.zMove,t.y=t.y+t.yMove,t.sprite.position.set(t.x,t.y,t.z),t.light.position.set(t.x,t.y,t.z),t.angle+=t.angleConst,t.dirCounter++,t.dirCounter>=t.dirChange&&(t.angleConst=-emitAngleConstMax/2+Math.random()*emitAngleConstMax,t.dirChange=emitDirDeltaMin+Math.random()*(emitDirDeltaMax-emitDirDeltaMin),t.dirCounter=0),t.hue+=.0025,t.color.setHSL(t.hue,emitS,emitL),t.light.color.setHSL(t.hue,emitS,emitL),t.sprite.material.color=t.color,t.parSpawnCounter--,t.parSpawnCounter<=0&&arParInactive.length>0){(a=arParInactive[0]).sprite.material.opacity=1,a.sprite.position.set(t.x+5*Math.random(),t.y+5*Math.random(),t.z+5*Math.random()),a.sprite.material.color.setHSL(t.hue,emitS,emitL),arParActive.push(a),arParInactive.splice(0,1),t.parSpawnCounter=parDelta}}for(var n=0;n<arParActive.length;n++){var a,o=(a=arParActive[n]).sprite.scale.x-parDecay;a.sprite.scale.set(o,o,o),o<=1&&(arParInactive.push(a),arParActive.splice(n,1),n--,a.sprite.material.opacity=0,a.sprite.scale.set(parScale,parScale,parScale))}if(updateCubeCams){for(e=0;e<arCubeCameras.length;e++){var r=arCubeCameras[e][0],i=arCubeCameras[e][1];r.visible=!1,i.position.copy(r.position),i.update(renderer,scene),r.visible=!0}updateCubeCams=!1}controls.update(),renderer.render(scene,camera)}requestAnimationFrame(main)}function initMaterials(){maxAnisotropy=renderer.getMaxAnisotropy();var e,t;e="materials/floor/",t=new THREE.Vector2(1,1),floorMat=createMaterial(e,t,!1,0,!0,.5,.5,0,0,2)}function createPhongMaterial(e,t,n){var a=new THREE.MeshPhongMaterial({});return a.color=new THREE.Color("rgb(50,50,50)"),a.specular=new THREE.Color("rgb(255,255,255)"),a.shininess=30,a}function createMaterial(e,t,n,a,o,r,i,s,c,p){var l=new THREE.MeshPhysicalMaterial({});return l.reflectivity=i,l.clearCoat=s,l.clearCoatRoughness=c,l.map=(new THREE.TextureLoader).load(e+"albedo.jpg"),l.map.anisotropy=maxAnisotropy,l.map.wrapS=THREE.RepeatWrapping,l.map.wrapT=THREE.RepeatWrapping,l.map.repeat.set(p,p),l.normalMap=(new THREE.TextureLoader).load(e+"normal.jpg"),l.normalMap.anisotropy=maxAnisotropy,l.normalScale=t,l.normalMap.wrapS=THREE.RepeatWrapping,l.normalMap.wrapT=THREE.RepeatWrapping,l.normalMap.repeat.set(p,p),n&&(l.metalnessMap=(new THREE.TextureLoader).load(e+"metalness.jpg"),l.metalnessMap.anisotropy=maxAnisotropy,l.metalnessMap.wrapS=THREE.RepeatWrapping,l.metalnessMap.wrapT=THREE.RepeatWrapping,l.metalnessMap.repeat.set(p,p)),l.metalness=a,o&&(l.roughnessMap=(new THREE.TextureLoader).load(e+"roughness.jpg"),l.roughnessMap.anisotropy=maxAnisotropy,l.roughnessMap.wrapS=THREE.RepeatWrapping,l.roughnessMap.wrapT=THREE.RepeatWrapping,l.roughnessMap.repeat.set(p,p)),l.roughness=r,l}function initLoadingManager(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div");e.appendChild(t),e.appendChild(n),document.body.appendChild(e),n.innerHTML="Loading...",e.style="position: absolute;z-index: 500;right:0px;left:0px;top:0px;bottom:0px;margin: auto;width:300px;height:40px;background-color:#555555;border-radius: 4px;",t.style="width:25px;height:40px;background-color:#5E9CE5;border-radius: 4px;",n.style="color:#fff;position: absolute;z-index:2;right:0px;left:0px;top:10px;bottom:0px;width:300px;height:40px;\ttext-align:center;",THREE.DefaultLoadingManager.onStart=function(e,t,n){},THREE.DefaultLoadingManager.onProgress=function(e,a,o){var r=100*a/o;n.innerHTML="Loading: "+Math.round(r)+" %";var i=300*r/100;t.style.width=i+"px"},THREE.DefaultLoadingManager.onLoad=function(){e.style.display="none",assetsLoaded=!0},THREE.DefaultLoadingManager.onError=function(e){console.log("error loading asset "+e)}}THREE.OrbitControls=function(e,t){function n(){return Math.pow(.95,b.zoomSpeed)}function a(e){f.theta-=e}function o(e){f.phi-=e}function r(e){b.object instanceof THREE.PerspectiveCamera?y/=e:b.object instanceof THREE.OrthographicCamera?(b.object.zoom=Math.max(b.minZoom,Math.min(b.maxZoom,b.object.zoom*e)),b.object.updateProjectionMatrix(),x=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),b.enableZoom=!1)}function i(e){b.object instanceof THREE.PerspectiveCamera?y*=e:b.object instanceof THREE.OrthographicCamera?(b.object.zoom=Math.max(b.minZoom,Math.min(b.maxZoom,b.object.zoom/e)),b.object.updateProjectionMatrix(),x=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),b.enableZoom=!1)}function s(e){if(!1!==b.enabled){if(e.preventDefault(),e.button===b.mouseButtons.ORBIT){if(!1===b.enableRotate)return;!function(e){L.set(e.clientX,e.clientY)}(e),M=w.ROTATE}else if(e.button===b.mouseButtons.ZOOM){if(!1===b.enableZoom)return;!function(e){j.set(e.clientX,e.clientY)}(e),M=w.DOLLY}else if(e.button===b.mouseButtons.PAN){if(!1===b.enablePan)return;!function(e){O.set(e.clientX,e.clientY)}(e),M=w.PAN}M!==w.NONE&&(document.addEventListener("mousemove",c,!1),document.addEventListener("mouseup",p,!1),b.dispatchEvent(T))}}function c(e){if(!1!==b.enabled)if(e.preventDefault(),M===w.ROTATE){if(!1===b.enableRotate)return;!function(e){S.set(e.clientX,e.clientY),P.subVectors(S,L);var t=b.domElement===document?b.domElement.body:b.domElement;a(2*Math.PI*P.x/t.clientWidth*b.rotateSpeed),o(2*Math.PI*P.y/t.clientHeight*b.rotateSpeed),L.copy(S),b.update()}(e)}else if(M===w.DOLLY){if(!1===b.enableZoom)return;!function(e){N.set(e.clientX,e.clientY),z.subVectors(N,j),z.y>0?r(n()):z.y<0&&i(n()),j.copy(N),b.update()}(e)}else if(M===w.PAN){if(!1===b.enablePan)return;!function(e){A.set(e.clientX,e.clientY),D.subVectors(A,O),V(D.x,D.y),O.copy(A),b.update()}(e)}}function p(e){!1!==b.enabled&&(document.removeEventListener("mousemove",c,!1),document.removeEventListener("mouseup",p,!1),b.dispatchEvent(R),M=w.NONE)}function l(e){!1===b.enabled||!1===b.enableZoom||M!==w.NONE&&M!==w.ROTATE||(e.preventDefault(),e.stopPropagation(),function(e){e.deltaY<0?i(n()):e.deltaY>0&&r(n()),b.update()}(e),b.dispatchEvent(T),b.dispatchEvent(R))}function d(e){!1!==b.enabled&&!1!==b.enableKeys&&!1!==b.enablePan&&function(e){switch(e.keyCode){case b.keys.UP:V(0,b.keyPanSpeed),b.update();break;case b.keys.BOTTOM:V(0,-b.keyPanSpeed),b.update();break;case b.keys.LEFT:V(b.keyPanSpeed,0),b.update();break;case b.keys.RIGHT:V(-b.keyPanSpeed,0),b.update()}}(e)}function m(e){if(!1!==b.enabled){switch(e.touches.length){case 1:if(!1===b.enableRotate)return;!function(e){L.set(e.touches[0].pageX,e.touches[0].pageY)}(e),M=w.TOUCH_ROTATE;break;case 2:if(!1===b.enableZoom)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+n*n);j.set(0,a)}(e),M=w.TOUCH_DOLLY;break;case 3:if(!1===b.enablePan)return;!function(e){O.set(e.touches[0].pageX,e.touches[0].pageY)}(e),M=w.TOUCH_PAN;break;default:M=w.NONE}M!==w.NONE&&b.dispatchEvent(T)}}function u(e){if(!1!==b.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===b.enableRotate)return;if(M!==w.TOUCH_ROTATE)return;!function(e){S.set(e.touches[0].pageX,e.touches[0].pageY),P.subVectors(S,L);var t=b.domElement===document?b.domElement.body:b.domElement;a(2*Math.PI*P.x/t.clientWidth*b.rotateSpeed),o(2*Math.PI*P.y/t.clientHeight*b.rotateSpeed),L.copy(S),b.update()}(e);break;case 2:if(!1===b.enableZoom)return;if(M!==w.TOUCH_DOLLY)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,a=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+a*a);N.set(0,o),z.subVectors(N,j),z.y>0?i(n()):z.y<0&&r(n()),j.copy(N),b.update()}(e);break;case 3:if(!1===b.enablePan)return;if(M!==w.TOUCH_PAN)return;!function(e){A.set(e.touches[0].pageX,e.touches[0].pageY),D.subVectors(A,O),V(D.x,D.y),O.copy(A),b.update()}(e);break;default:M=w.NONE}}function E(e){!1!==b.enabled&&(b.dispatchEvent(R),M=w.NONE)}function h(e){e.preventDefault()}this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new THREE.Vector3,this.minDistance=150,this.maxDistance=2e3,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI/2+Math.PI/180,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=.4,this.enablePan=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:THREE.MOUSE.LEFT,ZOOM:THREE.MOUSE.MIDDLE,PAN:THREE.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return H.phi},this.getAzimuthalAngle=function(){return H.theta},this.reset=function(){b.target.copy(b.target0),b.object.position.copy(b.position0),b.object.zoom=b.zoom0,b.object.updateProjectionMatrix(),b.dispatchEvent(g),b.update(),M=w.NONE},this.update=function(){var t=new THREE.Vector3,n=(new THREE.Quaternion).setFromUnitVectors(e.up,new THREE.Vector3(0,1,0)),o=n.clone().inverse(),r=new THREE.Vector3,i=new THREE.Quaternion;return function(){var e=b.object.position;return t.copy(e).sub(b.target),t.applyQuaternion(n),H.setFromVector3(t),b.autoRotate&&M===w.NONE&&a(2*Math.PI/60/60*b.autoRotateSpeed),H.theta+=f.theta,H.phi+=f.phi,H.theta=Math.max(b.minAzimuthAngle,Math.min(b.maxAzimuthAngle,H.theta)),H.phi=Math.max(b.minPolarAngle,Math.min(b.maxPolarAngle,H.phi)),H.makeSafe(),H.radius*=y,H.radius=Math.max(b.minDistance,Math.min(b.maxDistance,H.radius)),b.target.add(C),t.setFromSpherical(H),t.applyQuaternion(o),e.copy(b.target).add(t),b.object.lookAt(b.target),!0===b.enableDamping?(f.theta*=1-b.dampingFactor,f.phi*=1-b.dampingFactor):f.set(0,0,0),y=1,C.set(0,0,0),!!(x||r.distanceToSquared(b.object.position)>v||8*(1-i.dot(b.object.quaternion))>v)&&(b.dispatchEvent(g),r.copy(b.object.position),i.copy(b.object.quaternion),x=!1,!0)}}(),this.dispose=function(){b.domElement.removeEventListener("contextmenu",h,!1),b.domElement.removeEventListener("mousedown",s,!1),b.domElement.removeEventListener("wheel",l,!1),b.domElement.removeEventListener("touchstart",m,!1),b.domElement.removeEventListener("touchend",E,!1),b.domElement.removeEventListener("touchmove",u,!1),document.removeEventListener("mousemove",c,!1),document.removeEventListener("mouseup",p,!1),window.removeEventListener("keydown",d,!1)};var b=this,g={type:"change"},T={type:"start"},R={type:"end"},w={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},M=w.NONE,v=1e-6,H=new THREE.Spherical,f=new THREE.Spherical,y=1,C=new THREE.Vector3,x=!1,L=new THREE.Vector2,S=new THREE.Vector2,P=new THREE.Vector2,O=new THREE.Vector2,A=new THREE.Vector2,D=new THREE.Vector2,j=new THREE.Vector2,N=new THREE.Vector2,z=new THREE.Vector2,k=function(){var e=new THREE.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),C.add(e)}}(),F=function(){var e=new THREE.Vector3;return function(t,n){e.setFromMatrixColumn(n,1),e.multiplyScalar(t),C.add(e)}}(),V=function(){var e=new THREE.Vector3;return function(t,n){var a=b.domElement===document?b.domElement.body:b.domElement;if(b.object instanceof THREE.PerspectiveCamera){var o=b.object.position;e.copy(o).sub(b.target);var r=e.length();r*=Math.tan(b.object.fov/2*Math.PI/180),k(2*t*r/a.clientHeight,b.object.matrix),F(2*n*r/a.clientHeight,b.object.matrix)}else b.object instanceof THREE.OrthographicCamera?(k(t*(b.object.right-b.object.left)/b.object.zoom/a.clientWidth,b.object.matrix),F(n*(b.object.top-b.object.bottom)/b.object.zoom/a.clientHeight,b.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),b.enablePan=!1)}}();b.domElement.addEventListener("contextmenu",h,!1),b.domElement.addEventListener("mousedown",s,!1),b.domElement.addEventListener("wheel",l,!1),b.domElement.addEventListener("touchstart",m,!1),b.domElement.addEventListener("touchend",E,!1),b.domElement.addEventListener("touchmove",u,!1),window.addEventListener("keydown",d,!1),this.update()},THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.OrbitControls.prototype.constructor=THREE.OrbitControls,Object.defineProperties(THREE.OrbitControls.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}});var scene,cont,camera,light,renderer,canvas,controls,cameraAndLight,clock,stats,maxAnisotropy,uvMat,phongMat,sphereMat,sphere,assetsLoaded=!1,loader=new THREE.JSONLoader,cubeCamNear=1,cubeCamFar=2100,cubeCamRes=512,updateCubeCams=!0,arCubeCameras=[],stageX=1e3,stageZ=1e3,emitS=1,emitL=.5,lIntensity=.4,emitTotal=10,arEmit=[],emitY=50,emitScale=20,emitSpeed=2,emitDirDeltaMin=60,emitDirDeltaMax=120,emitAngleConstMax=4,arParActive=[],arParInactive=[],parMax=1e3,parDelta=2,parScale=20,parDecay=.15;